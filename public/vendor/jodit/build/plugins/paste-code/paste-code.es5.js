!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var a in o)("object"==typeof exports?exports:e)[a]=o[a]}}(self,(function(){return(self.webpackChunkjodit_pro=self.webpackChunkjodit_pro||[]).push([[535],{18989:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(43854),n=o(47643);a.Config.prototype.controls.pasteCode={icon:o(11920),tooltip:"Paste code",command:"pasteCode"},a.Config.prototype.pasteCode={globalHighlightLib:!1,canonicalLanguageCode:function(e){switch(e){case"ts":return"typescript";case"js":return"javascript";case"markup":return"html"}return e},highlightLib:{highlight:function(e,t){return Prism.highlight(e,Prism.languages[t]||Prism.languages.plain,t)},isLangLoaded:function(e){return Boolean(Prism.languages[e])},js:["https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"],langUrl:function(e){return"https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-".concat(e,".min.js")},css:["https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css"]},defaultLanguage:"html",insertTemplate:function(e,t,o){return'<pre class="language-'.concat(t,'">').concat((0,n.htmlspecialchars)(o),"</pre>")},languages:[{value:"html",text:"HTML/XML"},{value:"plaintext",text:"Plain"},{value:"bash",text:"Bash"},{value:"javascript",text:"JavaScript"},{value:"css",text:"CSS"},{value:"php",text:"PHP"},{value:"ruby",text:"Ruby"},{value:"python",text:"Python"},{value:"java",text:"Java"},{value:"c",text:"C"},{value:"csharp",text:"C#"},{value:"cpp",text:"C++"}],dialog:{width:700,height:600}}},51969:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pasteCode=void 0;var a=o(70655);o(55816),o(18989);var n=o(10818),i=o(98813),r=o(11975),s=o(47643),l=o(97029),c=o(27830),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.requires=["license"],t.buttons=[{name:"pasteCode",group:"clipboard"}],t.prismJSIsLoaded=!1,t}return a.__extends(t,e),t.prototype.afterInit=function(e){var t=this;e.registerCommand("pasteCode",(function(){return t.openCodeEditDialog()}))},t.prototype.openCodeEditDialog=function(e,t,o){var a=this,n=this.j,i=this.createForm(),r=(0,s.refs)(i),l=r.code,u=r.language;e&&(u.value=e),t&&(l.value=t),n.async.requestIdleCallback((function(){l.focus()})),n.s.save(),this.createDialog((function(){if(!i.validate())return!1;n.s.restore();var e=n.createInside.fromHTML(n.o.pasteCode.insertTemplate(n,u.value,l.value));if(o)c.Dom.replace(o,e,n.createInside,!1,!0);else{var t=n.s.current(),r=c.Dom.up(t,c.Dom.isBlock,n.editor);r?c.Dom.after(r,e):n.s.insertNode(e)}a.onChange()}),(function(){n.s.restore()})).setContent(i.container).open(!0)},t.prototype.beforeDestruct=function(e){},t.prototype.createForm=function(){var e=this.jodit;return new i.UIForm(e,[new i.UISelect(e,{name:"language",label:"Language",value:e.o.pasteCode.defaultLanguage,options:e.o.pasteCode.languages,required:!0}),new i.UITextArea(e,{label:"Code view",resizable:!1,name:"code",required:!0,className:"jodit-paste-code__textarea"})],{className:"jodit-paste-code"})},t.prototype.createDialog=function(e,t){var o=new c.Dialog({language:this.j.o.language});return o.setHeader("Insert/Edit Code Sample").setSize(this.j.o.pasteCode.dialog.width,this.j.o.pasteCode.dialog.height).setFooter([(0,i.Button)(o,"","Cancel","default").onAction((function(){o.close(),t()})),(0,i.Button)(o,"save","Save","primary").onAction((function(){o.close(),e()}))]),o},t.prototype.onChange=function(){var e=this;(0,s.$$)("pre",this.j.editor).forEach((function(t){(0,s.attr)(t,"contenteditable")||((0,s.attr)(t,"contenteditable",!1),e.highlightCode(t))}))},t.prototype.highlightCode=function(e){return a.__awaiter(this,void 0,Promise,(function(){var t,o,n,i,r,l,u,d,p,h;return a.__generator(this,(function(a){switch(a.label){case 0:return o=(t=this.j.o.pasteCode).globalHighlightLib,i=(n=t.highlightLib).css,r=n.js,l=n.langUrl,u=n.highlight,d=n.isLangLoaded,this.prismJSIsLoaded||o?[3,2]:[4,Promise.all([(0,s.loadNextStyle)(this.jodit,i),(0,s.loadNext)(this.jodit,r)])];case 1:a.sent(),this.prismJSIsLoaded=!0,a.label=2;case 2:return p=this.parseLanguage(e),d(p)||o?[3,4]:[4,(0,s.appendScriptAsync)(this.jodit,l(p)).catch((function(){return null}))];case 3:a.sent(),a.label=4;case 4:return h=e,e.firstElementChild===e.lastElementChild&&c.Dom.isTag(e.firstElementChild,"code")&&(h=e.firstElementChild),h.innerHTML=u(h.innerText,p),[2]}}))}))},t.prototype.onPreEdit=function(e){var t=c.Dom.isNode(e)&&c.Dom.isTag(e,"pre")?e:c.Dom.closest(e.target,"pre",this.j.editor);if(t){var o=this.parseLanguage(t);this.openCodeEditDialog(o,t.innerText,t)}},t.prototype.parseLanguage=function(e){var t=null,o=function(e){return e.classList.forEach((function(e){if(/language-/.test(e)){var o=/language-(.*)/.exec(e);o&&o[1]&&(t=o[1])}}))};return o(e),null==t&&e.firstElementChild===e.lastElementChild&&c.Dom.isTag(e.firstElementChild,"code")&&o(e.firstElementChild),this.jodit.o.pasteCode.canonicalLanguageCode(t||"html")},t.prototype.onAfterGetValueFromEditor=function(e){var t=this,o=function(e,o,a,n,i,r){return"".concat(o.trim()).concat(n).concat((0,s.stripTags)(i,t.j.ed,new Set(["br"]))).concat(r)};e.value=e.value.replace(/(<pre[^>]*)contenteditable\s*=\s*(['"]?)false\2([^>]*>\s*<code[^>]*>)(.*?)(<\/code>\s*<\/pre>)/gis,o).replace(/(<pre[^>]*)contenteditable\s*=\s*(['"]?)false\2([^>]*>)(.*?)(<\/pre>)/gis,o)},a.__decorate([r.autobind],t.prototype,"openCodeEditDialog",null),a.__decorate([(0,r.watch)("?:change"),(0,r.debounce)()],t.prototype,"onChange",null),a.__decorate([(0,r.watch)(["?:dblclick","?:editPreInPasteCode"])],t.prototype,"onPreEdit",null),a.__decorate([(0,r.watch)("?:afterGetValueFromEditor")],t.prototype,"onAfterGetValueFromEditor",null),a.__decorate([r.component],t)}(n.Plugin);t.pasteCode=u,l.Jodit.plugins.add("paste-code",u)},11920:function(e){e.exports='<svg viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"> <path d="M2.5244141,23.5h18.9511719c0.4140625,0,0.75-0.3359375,0.75-0.75V4.9208984 c0-0.1992188-0.0795898-0.390625-0.2207031-0.53125L18.3198242,0.71875C18.1791992,0.5786133,17.9887695,0.5,17.7905273,0.5 H2.5244141c-0.4140625,0-0.75,0.3359375-0.75,0.75v21.5C1.7744141,23.1640625,2.1103516,23.5,2.5244141,23.5z M20.7128296,5.2197266 h-2.6986694V2.531189L20.7128296,5.2197266z M3.2744141,2h13.2397461v3.9697266c0,0.4140625,0.3359375,0.75,0.75,0.75h3.4614258V22 H3.2744141V2z" fill="#1D1D1D"/> <path d="M8.75,10.25h1.75c0.4140625,0,0.75-0.3359375,0.75-0.75s-0.3359375-0.75-0.75-0.75H8 c-0.4140625,0-0.75,0.3359375-0.75,0.75v2.75H6c-0.4140625,0-0.75,0.3359375-0.75,0.75S5.5859375,13.75,6,13.75h1.25v2.75 c0,0.4140625,0.3359375,0.75,0.75,0.75h2.5c0.4140625,0,0.75-0.3359375,0.75-0.75s-0.3359375-0.75-0.75-0.75H8.75V10.25z" fill="#1D1D1D"/> <path d="M18.5,12.25h-1.25V9.5c0-0.4140625-0.3359375-0.75-0.75-0.75H14c-0.4140625,0-0.75,0.3359375-0.75,0.75 s0.3359375,0.75,0.75,0.75h1.75v5.5H14c-0.4140625,0-0.75,0.3359375-0.75,0.75s0.3359375,0.75,0.75,0.75h2.5 c0.4140625,0,0.75-0.3359375,0.75-0.75v-2.75h1.25c0.4140625,0,0.75-0.3359375,0.75-0.75S18.9140625,12.25,18.5,12.25z" fill="#1D1D1D"/></svg>'},55816:function(e,t,o){"use strict";o.r(t)}},function(e){return e(e.s=51969)}])}));